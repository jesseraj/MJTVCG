<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<style>
			.monospace {
				font-family: monospace;
			}
		</style>
	</head>
	<body>
		<div id="root"></div>
		<script type="module" src="./panel.js"></script>

		<form id="speakerForm">
			<label for="speaker">Puhujan nimi</label>
			<input type="text" id="speaker" />
			<button type="submit">Vaihda nime√§</button>
		</form>

		<form id="roleForm">
			<label for="role">Roolin nimi</label>
			<input type="text" id="role" />
			<button type="submit">Vaihda roolia</button>
		</form>
		
	
	</body>

	<script>
		const speakerRep = nodecg.Replicant("speakerReplicant");
		const speaker = document.getElementById("speaker");
		speakerRep.on("change", (newValue, oldValue) => {
		console.log(`myRep changed from ${oldValue} to ${newValue}`);
		speaker.value = newValue;
		});

		const speakerForm = document.getElementById("speakerForm");
		speakerForm.addEventListener("submit", (e) => {
		e.preventDefault;
		speakerRep.value = speaker.value;
		});

		speakerRep.on("change", (newValue, oldValue) => {
		console.log(`myRep changed from ${oldValue} to ${newValue}`);
		puhuja.innerHTML = newValue;
		animations();
		});



		const roleRep = nodecg.Replicant("roleReplicant");
		const role = document.getElementById("role");
		roleRep.on("change", (newValue, oldValue) => {
		console.log(`myRep changed from ${oldValue} to ${newValue}`);
		role.value = newValue;
		});

		const roleForm = document.getElementById("roleForm");
		roleForm.addEventListener("submit", (e) => {
		e.preventDefault;
		roleRep.value = role.value;
		});

		roleRep.on("change", (newValue, oldValue) => {
		console.log(`myRep changed from ${oldValue} to ${newValue}`);
		rooli.innerHTML = newValue;
		animations();
		});

		const blokki = document.getElementById("blokki");
		const puhuja = document.getElementById("puhuja");
		const tokablokki = document.getElementById("tokablokki");
		const rooli = document.getElementById("rooli");

		function animations() {
		blokki.classList.remove("title-block-animation");
		blokki.offsetWidth;
		blokki.classList.add("title-block-animation");
		puhuja.classList.remove("title-h1-animation");
		puhuja.offsetWidth;
		puhuja.classList.add("title-h1-animation");
		tokablokki.classList.remove("role-block-animation");
		tokablokki.offsetWidth;
		tokablokki.classList.add("role-block-animation");
		rooli.classList.remove("role-p-animation");
		rooli.offsetWidth;
		rooli.classList.add("role-p-animation");
		// lowerThird.classList.remove("lower-third-animation");
		// lowerThird.offsetWidth;
		// lowerThird.classList.add("lower-third-animation");
		}

	</script>
</html>
